<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Resoluci√≥n de Desigualdades</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 40px;
      background: #f0f4f8;
      color: #333;
    }
    h1 {
      color: #2c3e50;
    }
    input, button {
      padding: 12px;
      margin-top: 10px;
      font-size: 16px;
      width: 100%;
      box-sizing: border-box;
    }
    button {
      background-color: #3498db;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover {
      background-color: #2980b9;
    }
    #resultado {
      margin-top: 20px;
      font-weight: normal;
      background: white;
      padding: 15px;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
  </style>
</head>
<body>

  <h1>Resuelve Desigualdades Lineales o Cuadr√°ticas</h1>
  <p>Ejemplos: <strong>2x + 3 &lt; 5</strong> ‚Äî <strong>x¬≤ - 3x + 2 &gt; 0</strong></p>

  <input type="text" id="desigualdad" placeholder="Ingresa tu desigualdad aqu√≠">
  <button onclick="resolverDesigualdad()">üîç Resolver</button>

  <div id="resultado"></div>

  <script>
    function resolverDesigualdad() {
      const entrada = document.getElementById("desigualdad").value.replace(/\s+/g, "");
      const resultado = document.getElementById("resultado");

      try {
        const match = entrada.match(/(.+)(<=|>=|<|>)(.+)/);
        if (!match) throw "Formato inv√°lido. Usa s√≠mbolos como <, >, ‚â§, ‚â•";

        const izquierda = match[1];
        const operador = match[2];
        const derecha = match[3];
        const expr = `(${izquierda}) - (${derecha})`;

        if (expr.includes("x^2") || expr.includes("x*x") || expr.match(/x\*x|x¬≤/)) {
          resolverCuadratica(expr, operador, resultado);
        } else {
          resolverLineal(expr, operador, resultado);
        }

      } catch (e) {
        resultado.innerHTML = "‚ùå Error: " + e;
      }
    }

    function resolverLineal(expr, operador, resultado) {
      const re = /([-+]?\d*\.?\d*)x/;
      const match = expr.match(re);
      const a = parseFloat(match[1] || (match[1] === "" ? 1 : 0));
      const b = eval(expr.replace(re, ""));

      let x;
      let mensaje = "";

      if (a === 0) {
        if (eval(`0 ${operador} ${b}`)) {
          mensaje = "‚úÖ Se cumple para todo x ‚àà ‚Ñù";
        } else {
          mensaje = "‚ùå No hay soluci√≥n";
        }
      } else {
        x = -b / a;
        const signos = { "<": "x < ", "<=": "x ‚â§ ", ">": "x > ", ">=": "x ‚â• " };
        mensaje = `‚úÖ Soluci√≥n: ${signos[operador]}${x}<br>üìå Dominio: ‚Ñù`;
      }

      resultado.innerHTML = mensaje;
    }

    function resolverCuadratica(expr, operador, resultado) {
      const e = expr.replace(/x\^2/g, "x*x").replace(/x¬≤/g, "x*x");
      const func = new Function("x", `return ${e};`);

      const f0 = func(0), f1 = func(1), f_1 = func(-1);
      const a = f1 - 2 * f0 + f_1;
      const b = (f1 - f_1) / 2;
      const c = f0;

      const D = b * b - 4 * a * c;
      let sol = "";

      if (D < 0) {
        if ((a > 0 && operador === ">") || (a < 0 && operador === "<")) {
          sol = "x ‚àà ‚Ñù";
        } else {
          sol = "No hay soluci√≥n real";
        }
      } else if (D === 0) {
        const r = -b / (2 * a);
        if (operador === ">" || operador === "<") {
          sol = `x ‚àà ‚Ñù, x ‚â† ${r}`;
        } else {
          sol = `x = ${r}`;
        }
      } else {
        const r1 = (-b + Math.sqrt(D)) / (2 * a);
        const r2 = (-b - Math.sqrt(D)) / (2 * a);
        const [min, max] = [Math.min(r1, r2), Math.max(r1, r2)];

        if (a > 0) {
          if (operador === ">") sol = `x < ${min} o x > ${max}`;
          if (operador === ">=") sol = `x ‚â§ ${min} o x ‚â• ${max}`;
          if (operador === "<") sol = `x ‚àà (${min}, ${max})`;
          if (operador === "<=") sol = `x ‚àà [${min}, ${max}]`;
        } else {
          if (operador === "<") sol = `x < ${min} o x > ${max}`;
          if (operador === "<=") sol = `x ‚â§ ${min} o x ‚â• ${max}`;
          if (operador === ">") sol = `x ‚àà (${min}, ${max})`;
          if (operador === ">=") sol = `x ‚àà [${min}, ${max}]`;
        }
      }

      resultado.innerHTML = `‚úÖ Soluci√≥n: ${sol}<br>üìå Dominio: ‚Ñù`;
    }
  </script>

</body>
</html>
